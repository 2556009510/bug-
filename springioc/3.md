**目录**

[3.5](#3.5)

[3.5.1、spring创建第三方bean对象（方式一）](#3.5.1、spring创建第三方bean对象（方式一）)

[3.5.2 spring引用外部配置文件（方式二）](#3.5.2 spring引用外部配置文件（方式二）)

[3.5.3 spring基于xml文件的自动装配](#3.5.3 spring基于xml文件的自动装配)

[3.6](#3.6)

[3.6.1 SpEL（spring表达式语言，可以节省大量Java代码）](#3.6.1 SpEL（spring表达式语言，可以节省大量Java代码）)

[3.7](#3.7)

[3.7.1 springioc容器的注解](#3.7.1 springioc容器的注解)

[3.7.2 定义扫描包时，包含的类和不包含的类：](#3.7.2 定义扫描包时，包含的类和不包含的类：)

[3.7.3 @AutoWired自动注入](#3.7.3 %40AutoWired自动注入)

[3.7.4 @AutoWired可以进行定义在方法上](#3.7.4 %40AutoWired可以进行定义在方法上)

[3.7.5 自动装配的注解@AutoWired、@Resource](#3.7.5 自动装配的注解%40AutoWired、%40Resource)

[3.7.5 泛型依赖注入](#3.7.5 泛型依赖注入)

[](#)

------

## **3.5**

### **3.5.1****、****sp****ring****创建第三方****bean****对象****（方式一）**

​    在Spring中，很多对象都是单实例的，在日常的开发中，我们经常需要使用某些外部的单实例对象，例如数据库连接池，下面讲解如何在spring中创建第三方bean实例

**导包：**

![img](https://img-blog.csdnimg.cn/20200709143025324.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTA0MjU2OQ==,size_16,color_FFFFFF,t_70)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/2020070914302928.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709143032890.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709143043495.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTA0MjU2OQ==,size_16,color_FFFFFF,t_70)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**xml****文件：****ioc**

```html
//spring管理第三方bean：

<bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">
    <property name="username" value="root"></property>
    <property name="password" value="123456"></property>
    <property name="url" value="jdbc:mysql://localhost:3306/demo">
</property>
    <property name="driverClassName" value="com.mysql.jdbc.Driver">
</property>
</bean>
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：**MyText**（测试）**

```java
    DruidDataSource dataSource = context.getBean("dataSource", DruidDataSource.class);
    System.out.println(dataSource);
    System.out.println(dataSource.getConnection());
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709143121113.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709143125456.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

### **3.5.2** **spring****引用外部配置文件****（方式二）**

![img](https://img-blog.csdnimg.cn/20200709143140967.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

db.properties文件：

```bash
jdbc.username=root
jdbc.password=123456
url=jdbc:mysql://localhost:3306/demo
driverClassName=com.mysql.jdbc.Driver
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**xml文件：ioc**

![img](https://img-blog.csdnimg.cn/20200709143210669.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**↓**

```html
xmlns:context="http://www.springframework.org/schema/context"
xmlns:p="http://www.springframework.org/schema/p"

xsi:schemaLocation="
http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans.xsd
http://www.springframework.org/schema/context
http://www.springframework.org/schema/context/spring-context.xsd
">
·
·
·
//当需要引入外部的配置文件的时候，需要导入一些context的命名空间
<context:property-placeholder 
location(位置)="classpath:db.properties">
</context:property-placeholder>

在配置文件编写属性的时候需要注意：
spring容器在进行启动的时候，会读取当前系统的某些环境变量的配置，
当前系统的用户名是用username来表示的，所以最好的方式是添加前缀来做区分（如jdbc.）
============================== 1.1、 ================================
<bean id="person" class="com.mashibing.bean.Person">
    <property name="name" value="${jdbc.username}"></property>
</bean>
============================== 1.2、 ================================
<bean id="dataSource2"class="com.alibaba.druid.pool.DruidDataSource">
    <property name="username"value="${username}"></property>
    <property name="password" value="${jdbc.password}"></property>
    <property name="url" value="${url}"></property>
    <property name="driverClassName"value="${driverClassName}">
</property>
</bean>
============================== 2、 ==================================
<bean id="person" class="com.mashibing.bean.Person">
    <property name="name" value="${jdbc.username}"></property>
</bean>
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：**MyText**（测试）**

```java
============================== 1、 ==================================
DruidDataSource dataSource = context.getBean("dataSource2", DruidDataSource.class);
    System.out.println(dataSource);
    System.out.println(dataSource.getConnection());
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709143302775.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

```java
============================== 2、 ==================================
    Person person = context.getBean("person2", Person.class);
    System.out.println(person);
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/2020070914332257.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)执行后：![img](https://img-blog.csdnimg.cn/20200709143334484.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

（没改之前，最开始执行了一次，后面默认就root，而不是root123）

**解决：****2****、****中加****jdbc.**

![img](https://img-blog.csdnimg.cn/20200709143405665.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

### **3.5.3** **spring****基于****xml****文件的自动装配**

**xml****文件：****ioc**

```html
//spring中的自动装配
/*
*<bean id="address1" class="com.mashibing.bean.Address">
*    <property name="province" value="河北"></property>
*    <property name="city" value="邯郸"></property>
*    <property name="town" value="武安"></property>
*</bean>
*/
<bean id="address2" class="com.mashibing.bean.Address">
    <property name="province" value="河北2"></property>
    <property name="city" value="邯郸2"></property>
    <property name="town" value="武安2"></property>
</bean>
<bean id="person" class="com.mashibing.bean.Person"autowire="byType">
</bean>
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****MyText****（测试）**

```java
    Person person = context.getBean("person", Person.class);
    System.out.println(person);
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709143447670.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)（某些情况**address1**也能行）

在spring中，可以使用自动装配的功能（spring会把某些bean注入到另外bean中）
可以使用autowire属性来实现自动装配，有以下几种情况

=====================================================================
default/no: 不自动装配 ![img](https://img-blog.csdnimg.cn/20200709143521678.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)​

=====================================================================

byName:按照id来进行装配,根据set方法后面的名称首字母小写决定的，不是参数列表的名称，如果找不到则装配null

![img](https://img-blog.csdnimg.cn/20200709143528984.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/2020070914353289.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****Person****（个人）**

改：在set方法中，将setAddress()名改setAaddress()

![img](https://img-blog.csdnimg.cn/20200709143546241.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)（为null找不到，所以只能改有参函数名不能改方法名）

=====================================================================
byType:按照bean的类型来进行装配，如果有多个类型，就会报错，不知道选择哪一个具体的类型，如果找不到则装配null

![img](https://img-blog.csdnimg.cn/20200709144835480.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)（加载所有的属性）

![img](https://img-blog.csdnimg.cn/20200709144843449.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709144853137.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709144855779.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709144859384.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709144904612.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

=====================================================================

constructor:按照构造器进行装配，首先按照类型进行判断，如果有多个类型相同的bean,再按照id去进行判断，如果找不到则装配null

按照构造器进行装配，先按照有参构造器参数的类型进行装配，没有就直接装配null；如果按照类型找到了多个，那么就使用参数名作为id继续匹配，找到就装配，找不到就装配null

![img](https://img-blog.csdnimg.cn/20200709144913575.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****Person****（个人）**

**添加：**![img](https://img-blog.csdnimg.cn/20200709144926286.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) **（必须只添加单个）**

![img](https://img-blog.csdnimg.cn/2020070914493071.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709144932756.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**也会null****：**

![img](https://img-blog.csdnimg.cn/20200709144945296.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709144947935.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709144953381.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTA0MjU2OQ==,size_16,color_FFFFFF,t_70)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709144957642.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709145000512.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

## **3.6**

### **3.6****.1** **SpEL****（****spring****表达式语言****，可以节省大量Java代码）**

**xml****文件：****ioc**

<bean id="person2" class="com.mashibing.bean.Person">

=====================================================================
//可以引入bean对象的属性![img](https://img-blog.csdnimg.cn/20200709145032855.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)​

​    <property name="name" value="**#{**address.province**}**"></property>

=====================================================================
//可以支持运算符的所有操作![img](https://img-blog.csdnimg.cn/20200709145045654.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)​

​    <property name="age" value="**#{**12*2**}**"></property>

![img](https://img-blog.csdnimg.cn/20200709145053707.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709145058309.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

//可以引入外部bean         
    <property name="address" value="**#{**address**}**"></property>

=====================================================================
//可以调用静态方法![img](https://img-blog.csdnimg.cn/20200709145105913.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)​

​    <property name="gender" value="**#{**T(java.util.UUID).randomUUID().toString().substring(0,5)**}**">

​    </property>

=====================================================================
//调用非静态方法![img](https://img-blog.csdnimg.cn/20200709145114481.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)​

   <property name="hobbies" value="**#{**address.getCity()**}**"></property>
</bean>

**java****文件：****MyText****（测试）**

```java
Person person = context.getBean("person2", Person.class);
    System.out.println(person);

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145132853.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

## **3.7**

### **3.7.1** **springioc****容器的注解**

![img](https://img-blog.csdnimg.cn/20200709145143887.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145146432.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTA0MjU2OQ==,size_16,color_FFFFFF,t_70)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145151739.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145154121.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145157377.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145159938.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**xml****文件：****pom**

**直接将上一个包的复制过来即可**

![img](https://img-blog.csdnimg.cn/20200709145215824.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTA0MjU2OQ==,size_16,color_FFFFFF,t_70)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145218464.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145224551.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTA0MjU2OQ==,size_16,color_FFFFFF,t_70)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) **4.12**

![img](https://img-blog.csdnimg.cn/20200709145241830.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**xml****文件：****applicationContext****（应用上下文、配置文件）**

```html
<bean id="personController" class="com.mashibing.controller.PersonController" ></bean>

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****PersonController（个人控制器）**![img](https://img-blog.csdnimg.cn/20200709145259656.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

```java
@Controller //控制器
//@Scope(value = "prototype")
public class PersonController {
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****PersonDao****（个人包）**

```java
@Repository //仓库
public class PersonDao {
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****PersonService****（个人服务）**

```java
@Service //服务
public class PersonService {
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**方式一：****（扫描整个包）**

**java****文件：****MyText（测试）** ![img](https://img-blog.csdnimg.cn/20200709145344640.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

```java
//测试的方法不可以有参数，不可以有返回值
@Test
public void test01() {
    ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext
("applicationContext.xml");
    PersonController personController = context.getBean("personController", PersonController.class);
    System.out.println(personController); 
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/202007091454002.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

在之前的操作中我们都是使用bean标签的方式向IOC容器中注册bean，上面使用的是注解方式

**========================================================**

@Component(组件)：可以在任意的类上进行添加，在扫描的时候都会完成bean的注册
@Controller(控制器)：放置在控制层，用来接受用户的请求
@Service(服务)：放置在业务逻辑层
@Repository(仓库、包)：放置在数据访问层



@Component(组件)：给不属于以上基层的组件添加此注解

@Scope(范围)：注解可以声明当前类是单例还是多例

![img](https://img-blog.csdnimg.cn/20200709145417218.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709145419165.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**注意：**
**1****、**这四个注解写在类上面的时候都可以完成注册bean的功能,但是这些规定并不是spring识别的标识

**2****、**在spring程序运行过程中，不会对这四个注解做任何区分，看起来是一样的，都会完成bean的注册功能

**3****、**spring底层是不会给具体的层次验证注解，这样写的目的只是为了提高可读性（最偷懒的方式，就是给所有想交由IOC容器管理的bean对象添加@component） 

**4****、**（未扫描到）

![img](https://img-blog.csdnimg.cn/2020070914542852.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

在使用注解的时候，还需要告诉spring应该从上面四个包中，从哪个包开始扫描,一般在定义的时候都写上相同包的路径

**解决方式：**

**定义自动扫描的基础包：（****是否要注册bean到IOC容器中****）**

下面的base-package：指定扫描的基础包，spring在启动的时候会将基础包及子包下所有加了注解的类都自动扫描进IOC容器

**xml****文件：****applicationContext****（应用上下文、配置文件）**

![img](https://img-blog.csdnimg.cn/20200709145441287.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTA0MjU2OQ==,size_16,color_FFFFFF,t_70)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145445464.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145448437.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTA0MjU2OQ==,size_16,color_FFFFFF,t_70)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

注意：**注解****注册组件**和**配置文件****注册组件**是一样的，但是要注意：

（1）组件的id，默认就是组件的类名（首字符小写），如果改名字的话，直接在注解中修改即可

**========================================================**

（2）组件默认情况下都是单例的,如果需要配置多例模式的话，可以在注解下添加@Scope（范围）

**java****文件：****MyText****（测试）**

```java
//测试的方法不可以有参数，不可以有返回值
@Test
public void test01() {
    ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext
("applicationContext.xml");
//赋值给两个对象
    PersonController personController = context.getBean("personController", PersonController.class);
    PersonController personController2 = context.getBean("personController", PersonController.class);
    System.out.println(personController == personController2); 
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

 ![img](https://img-blog.csdnimg.cn/20200709145510102.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) *（true表示单例模式）*

**方式一：****（之前的）**

**xml****文件：****applicationContext****（应用上下文、配置文件）**

![img](https://img-blog.csdnimg.cn/20200709145541802.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145544257.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**方式二：** **（**@Scope（范围）可以声明当前是单例还是多例**）**

**java****文件：****PersonController****（个人控制器）**

**清空****xml****文件：****applicationContext****内的：**

![img](https://img-blog.csdnimg.cn/20200709145605301.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145600778.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709145608854.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/2020070914561338.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709145615835.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**========================================================**

**5****、**需要手动导入context(上下文)命名空间

（因为新建一个配置文件时，需要手动添加里面的命名空间）

![img](https://img-blog.csdnimg.cn/20200709145628264.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**方式二：****（扫描指定的类）**

**6****、**在使用注解的时候没有定义**id**和**class**，那么如何根据**id**来进行识别
默认是把当前类的名称的首字母小写之后作为**id**，如果需要改变名称，那么需要在注解后面添加参数值**value**来完成修改名字的目的

**java****文件：****PersonController****（个人控制器）**

![img](https://img-blog.csdnimg.cn/20200709145639988.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****MyText****（测试）**

**改：**

![img](https://img-blog.csdnimg.cn/20200709145650704.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145652457.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

### **3.7.2** **定义扫描包时，包含的类和不包含的类：**

指定只扫描哪些组件，默认情况下是全部扫描的，所以此时要配置的话需要在**component-scan**标签上添加 **use-default-filters="false"**

**java****文件：****PersonController****（个人控制器）**

```java
//测试的方法不可以有参数，不可以有返回值
@Test
public void test01() {
    ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext
("applicationContext.xml");
//赋值给两个对象
    PersonController personController = context.getBean("personController", PersonController.class);
    PersonController personController2 = context.getBean("personController", PersonController.class);
    System.out.println(personController == personController2); 
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**xml****文件：****applicationContext****（应用上下文、配置文件）**

```html
<context:component-scan base-package="com.mashibing">
//当定义好注解的扫描路径之后，可以做更细粒度的控制，可以选择扫描哪个注解，也可以选择不扫描哪个注解：
exclude-filter（排除过滤器）:表示要排除扫描的注解，使用较多
include-filter（包含过滤器）:表示要包含扫描的注解,一般不会用此规则，用另一个排除过滤器就行了但是如果引入的第三方包中包含注解，此时就需要使用此标签来进行标识
两个不能同时存在？
=================== 下面用的 exclude-filter（排除过滤器）======================
type（类型）:规则的类型
expression（表达式）:表达式

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145740302.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

```html
===============================================================================  
assignable（可转让）:可以指定对应的类的名称。但是表达式必须是完全限定名（完整的的路径，不可以写包的路径）

<context:component-scan base-package="com.mashibing">

//因为上面的写了base-package="com.mashibing"，里面的可以不用写
//    <context:exclude-filter type="assignable" expression=
// "com.mashibing.controller.PersonController（个人控制器）"/>

</context:component-scan>

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145805945.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) （正常）

===============================================================================  
annotation（注解）:按照注解来进行排序，但是表达式中必须是注解的完全限定名

![img](https://img-blog.csdnimg.cn/20200709145848468.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709145851364.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**填入：**

![img](https://img-blog.csdnimg.cn/20200709145858442.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145902633.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709145908880.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

```html
===============================================================================  
aspectj（实现）:使用切面的方式，一般不用
===============================================================================  
custom（自定义）:使用自定义的方式，可以自己定义自己的筛选规则，一般不用
===============================================================================  
regex（正则表达式）:使用正则表达式的方式，一般不用

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**当定义好基础扫描的包之后，可以排除包中的某些类，使用如下的方式:**

**assignable****（可转让）：**指定排除某个具体的类，按照类排除，expression里写不注册的具体类名路径

**annotation****（注解）：**按照注解进行排除，标注了指定注解的组件不要,expression里写要过滤的注解路径

**aspectj****（实现）：**后面讲aop的时候说明要使用的aspectj表达式，一般不用

**custom****（自定义）：**定义一个typeFilter,自己写代码决定哪些类被过滤掉，一般不用

**regex****（正则表达式）：**使用正则表达式过滤，一般不用

### **3.7.3** **@AutoWired****自动注入**

**xml****文件：****applicationContext****（应用上下文、配置文件）**

```html
include-filter（包含过滤器）:表示要包含扫描的注解,一般不会用此规则，用另一个排除过滤器就行了但是如果引入的第三方包中包含注解，此时就需要使用此标签来进行标识 ==================== 下面用的include-filter（包含过滤器）========================
    <context:include-filter type="assignable" expression=
"com.mashibing.service.PersonService"/>

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****PersonController****（个人控制器）**

```java
@Controller
public class PersonController {
    @Autowired
    private PersonService personService2;
    public void save() {
        personService2.save();
    }
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****PersonService****（个人服务器）**

```java
@Service
public class PersonService {
    @Autowired
    private PersonDao personDao;
    public void save(){
        //System.out.println("personservice");  //应用
        personDao.save();
    }
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****PersonDao****（个人包）**

```java
@Repository
public class PersonDao {
    public void save(){System.out.println("保存成功");}
    //public void update(){System.out.println("更新成功");}
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****MyTest****（测试）**

```java
public class MyTest {
    @Test
    public void test01() {
    ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext
("applicationContext.xml");
        PersonController personController = context.getBean("personController", PersonController.class);
        //System.out.println(personController);
        personController.save();
    }

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150040630.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**========================================================**

**java****文件：****PersonService2****（个人服务器2）**

```java
@Service
public class PersonService2 extends PersonService{
    @Autowired
    private PersonDao personDao;
    public void save(){
        System.out.println("personservice2...........");
        personDao.save();
    }
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

1、默认情况下是按照ByType来进行装配的,如果找到直接赋值，找不到报错

**如下面案例：**

![img](https://img-blog.csdnimg.cn/20200709150100943.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150102943.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150106655.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150108474.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

```html
通过@AutoWired注解能够完成自动注入的功能，是按照什么方式进行自动注入的呢？

如果有多个类型一样的bean对象，此时会按照id来进行查找，默认的id是类名的首字符小写那个，
如果找到了直接注入，如果找不到那么就报错

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

注意：当使用AutoWired注解时，自动装配是根据**类型方式**：

​    1、如果只找到一个，则直接进行赋值，

​    2、如果没有找到，则直接抛出异常（包括去掉@Service结果也会报错）

![img](https://img-blog.csdnimg.cn/20200709150145370.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/202007091501485.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

​    3、如果找到多个，那么会按照变量名作为id继续匹配

​        （1）匹配上直接进行装配

​        （2）如果匹配不上则直接报异常

![img](https://img-blog.csdnimg.cn/20200709150155429.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150157326.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150200172.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/2020070915020222.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

还可以使用@Qualifier注解来指定id的名称，让spring不要使用变量名,当使用@Qualifier注解的时候也会有两种情况：

​    1、找到，则直接装配

​    2、找不到，就会报错

**java****文件：****PersonController****（个人控制器）**

![img](https://img-blog.csdnimg.cn/20200709150217433.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150219271.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

如果不加入@Qualifier的话结果就为personservice2...........

**========================================================**

当@AutoWired添加到方法上的时候，此方法在创建对象的时候会默认调用，同时方法中的参数会进行自动装配

**java****文件：****PersonController****（个人控制器）**

```java
@Autowired
public void test(@Qualifier("personDao") PersonDao personDao123) {
    System.out.println("test");
    personDao123.update();
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150235855.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**========================================================**

**方式一：**

**java****文件：****PersonDao****（个人包）**

![img](https://img-blog.csdnimg.cn/20200709150247283.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****PersonController****（个人控制器）**

![img](https://img-blog.csdnimg.cn/20200709150254475.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150255521.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

### **3.7.4** **@AutoWired****可以进行定义在方法上**

**方式二：**@Qualifier注解也可以定义在方法的参数列表中,可以指定当前属性的id名称

![img](https://img-blog.csdnimg.cn/20200709150315435.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150317466.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

### **3.7.5** **自动装配的注解****@AutoWired****、@Resource**

**java****文件：****PersonController****（个人控制器）**

```html
1、@Resource是jdk提供的功能，@AutoWired是spring提供的功能，依靠的是Java标准

2、
@Resource可以在其他框架中使用，扩展性好
@AutoWired只能在spring中使用，支持的框架比较单一

3、
@AutoWired是按照类型（属性）进行装配，如果类型（属性）找不到那么就使用名字（属性名）进行查找

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150412842.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150414652.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150418397.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150419770.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

@Resource是按照名称（属性名）进行装配，如果名字找不到，那么就使用类型方式（属性）

![img](https://img-blog.csdnimg.cn/20200709150432879.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150435282.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

​    2、@AutoWire：默认是按照类型进行装配，默认情况下要求依赖的对象必须存在，@Resource默认是按照名字进行匹配的，同时可以指定name属性。

​    3、@AutoWired：只适合spring框架，而@Resource扩展性更好

**========================================================**

**其他方式：**

```html
<bean id="personController" class="com.mashibing.controller.PersonController" autowire=""></bean>

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150455701.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/2020070915045958.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

### **3.7.5** **泛型依赖注入**

### ![img](https://img-blog.csdnimg.cn/20200709150512570.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****Student****（学生）**

```html
public class Student { }

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****Teacher****（老师）**

```html
public class Teacher { }

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****BaseController****（基本控制器）**

![img](https://img-blog.csdnimg.cn/2020070915052662.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTA0MjU2OQ==,size_16,color_FFFFFF,t_70)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****BaseDao****（基本包）**

```java
public abstract class BaseDao<T> {
    public abstract void save();
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****StudentDao****（学生包）**

```java
@Repository
public class StudentDao extends BaseDao {
    public void save() {
        System.out.println("保存学生");
    }
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****TeacherDao****（老师包）**

```java
@Repository
public class TeacherDao extends BaseDao {
    public void save() {
        System.out.println("保存老师");
    }
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****MyTest****（测试）**

```java
@Test
public void test02() {
BaseController baseController = context.getBean("baseController", BaseController.class);
    baseController.save();
    baseController.save2();
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/2020070915062455.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****PersonController****（个人控制器）**

**关掉：**

![img](https://img-blog.csdnimg.cn/20200709150630727.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150632791.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**方式二：****（泛型方式）****实现具体类**

**java****文件：****BaseController****（基本控制器）**

**改：**

![img](https://img-blog.csdnimg.cn/20200709150642280.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150644851.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150647460.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****MyTest****（测试）**

```java
@Test
public void test02() {
BaseController baseController = context.getBean("baseController", BaseController.class);
    baseController.save();
}

```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150703727.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****BaseController****（基本控制器）**

**改：**

![img](https://img-blog.csdnimg.cn/20200709150710205.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)![img](https://img-blog.csdnimg.cn/20200709150712282.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**========================================================**

**方式一：****（普通方式）**

**java****文件：****StudentService****（学生服务）**    **java****文件：****TeacherService****（老师服务）**

![img](https://img-blog.csdnimg.cn/20200709150721993.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)          ![img](https://img-blog.csdnimg.cn/20200709150724763.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****MyTest****（测试）**

```java
@Test
    public void test02() {
        StudentService studentService = context.getBean("studentService", StudentService.class);
        studentService.save();
        TeacherService teacherService = context.getBean("teacherService",
TeacherService.class);
        teacherService.save();
    }
}
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150749116.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**方式二：****（泛型方式）**

**java****文件：****BaseService****（基本服务）**

```java
public class BaseService<T> {
    @Autowired
    private BaseDao<T> baseDao;
    public void save(){
        baseDao.save();
    }
}
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****StudentService****（学生服务）**

```java
@Service
public class StudentService extends BaseService<Student>{ }
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

**java****文件：****TeacherService****（老师服务）**

```java
@Service
public class TeacherService extends BaseService<Teacher> { }
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

![img](https://img-blog.csdnimg.cn/20200709150834760.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)
